<!-- SOCIAL ADD / EDIT MODAL -->
<div id="modal-social" class="modal">
    <div class="modal-overlay" onclick="closeModal('social')"></div>
    <div class="modal-panel">

        <div class="modal-header">
            <h2>Add Social</h2>
            <button class="modal-close" onclick="closeModal('social')">Close</button>
        </div>

        <form method="POST"
              action="{{ url_for('main.add_social') }}"
              enctype="multipart/form-data"
              id="socialForm">

            <input type="hidden" id="socialEditId">

            <div class="form-grid">
                <div>
                    <label>Channel</label>
                    <select name="channel" id="social_channel">
                        <option>X</option>
                        <option>Facebook</option>
                        <option>Instagram</option>
                        <option>TikTok</option>
                    </select>
                </div>

                <div>
                    <label>Region</label>
                    <select name="region" id="social_region">
                        <option>LOCAL</option>
                        <option>REGIONAL</option>
                        <option>INTERNATIONAL</option>
                    </select>
                </div>

                <div>
                    <label>Classification</label>
                    <select name="classification" id="social_classification">
                        <option>rumor</option>
                        <option>media</option>
                        <option>confirmed</option>
                    </select>
                </div>

                <div>
                    <label>Urgency</label>
                    <select name="urgency" id="social_urgency">
                        <option>NORMAL</option>
                        <option>HIGH</option>
                    </select>
                </div>
            </div>

            <label>Source / Handle</label>
            <input name="source" id="social_source" required>

            <label>Title</label>
            <input name="title" id="social_title" required>

            <label>Text</label>
            <textarea name="text" id="social_text"></textarea>

            <div class="form-grid">
                <div>
                    <label>Image URL</label>
                    <input
                     type="url"
                    name="image_url"
                    placeholder="Image URL from internet"
                    required>
                </div>

                <div>
                    <label>Tags</label>
                    <input name="tags" id="social_tags">
                </div>
            </div>

            <button type="submit"
                    class="btn-submit"
                    id="socialSubmitBtn">
                Add
            </button>

        </form>

    </div>
</div>


<!-- SOCIAL DETAIL MODAL -->
<div id="modal-socialDetail" class="modal">
    <div class="modal-overlay" onclick="closeModal('socialDetail')"></div>

    <div class="modal-panel modal-wide">

        <div class="modal-header">
            <h2 id="sd-title"></h2>
            <button class="modal-close" onclick="closeModal('socialDetail')">Close</button>
        </div>

        <div class="social-detail">

            <div class="social-left">
                <div class="social-meta" id="sd-meta"></div>
                <div class="social-text" id="sd-text"></div>
                <div class="social-tags" id="sd-tags"></div>
            </div>

            <div class="social-right" id="sd-image-wrap" style="display:none;">
                <img id="sd-image" src="" alt="">
                <div class="image-note">Image attached</div>
            </div>

        </div>

    </div>
</div>


<!-- NEWS ADD / EDIT MODAL -->
<div id="modal-news" class="modal">
    <div class="modal-overlay" onclick="closeModal('news')"></div>
    <div class="modal-panel">

        <div class="modal-header">
            <h2>Add Headline</h2>
            <button class="modal-close" onclick="closeModal('news')">Close</button>
        </div>

        <form method="POST"
              action="{{ url_for('main.add_news') }}"
              enctype="multipart/form-data"
              id="newsForm">

            <input type="hidden" id="newsEditId">

            <label>Source</label>
            <input name="source" id="news_source" required>

            <label>Headline</label>
            <input name="title" id="news_title" required>

            <label>Text</label>
            <textarea name="text" id="news_text"></textarea>

            <label>Image</label>
            <label>Image URL</label>
            <input
            type="url"
            name="image_url"
            placeholder="Image URL from internet"
            required>



            <button type="submit"
                    class="btn-submit"
                    id="newsSubmitBtn">
                Add
            </button>

        </form>

    </div>
</div>


<!-- CALL MODAL -->
<div id="modal-calls" class="modal">
    <div class="modal-overlay" onclick="closeModal('calls')"></div>
    <div class="modal-panel">

        <div class="modal-header">
            <h2>Add Call</h2>
            <button class="modal-close" onclick="closeModal('calls')">Close</button>
        </div>

        <form method="POST" action="{{ url_for('main.add_call') }}" class="modal-form">

            <label>Caller</label>
            <input name="caller" required>

            <label>Urgency</label>
            <select name="urgency">
                <option>NORMAL</option>
                <option>HIGH</option>
            </select>

            <div class="form-grid">
                <label><input type="checkbox" name="is_media"> Media</label>
                <label><input type="checkbox" name="is_local"> Local</label>
                <label><input type="checkbox" name="is_inbound" checked> Inbound</label>
            </div>

            <label>Summary</label>
            <textarea name="summary" required></textarea>

            <button type="submit" class="btn-submit">Add</button>
        </form>

    </div>
</div>


<!-- EMAIL MODAL -->
<div id="modal-emails" class="modal">
    <div class="modal-overlay" onclick="closeModal('emails')"></div>
    <div class="modal-panel">

        <div class="modal-header">
            <h2>Add Email</h2>
            <button class="modal-close" onclick="closeModal('emails')">Close</button>
        </div>

        <form method="POST" action="{{ url_for('main.add_email') }}" class="modal-form">

            <label>Sender</label>
            <input name="sender" required>

            <label>Subject</label>
            <input name="subject" required>

            <label>Urgency</label>
            <select name="urgency">
                <option>NORMAL</option>
                <option>HIGH</option>
            </select>

            <label>Body</label>
            <textarea name="body"></textarea>

            <button type="submit" class="btn-submit">Add</button>
        </form>

    </div>
</div>


<!-- INCIDENT MODAL -->
<div id="modal-incident" class="modal">
    <div class="modal-overlay" onclick="closeModal('incident')"></div>
    <div class="modal-panel">

        <div class="modal-header">
            <h2>Add Incident</h2>
            <button class="modal-close" onclick="closeModal('incident')">Close</button>
        </div>

        <form method="POST" action="{{ url_for('main.add_incident') }}" class="modal-form">

            <label>Title</label>
            <input name="title" required>

            <label>Location</label>
            <input name="location">

            <label>Sector</label>
            <input name="sector">

            <label>Timezone</label>
            <input name="timezone">

            <label>Time Window</label>
            <input name="window">

            <label>Description</label>
            <textarea name="description"></textarea>

            <button type="submit" class="btn-submit">Activate Incident</button>
        </form>

    </div>
</div>


<!-- AUTHORITY MODAL -->
<div id="modal-authority" class="modal">

    <div class="modal-overlay" onclick="closeModal('authority')"></div>

    <div class="modal-panel">

        <div class="modal-header">
            <h2>Add Authority Interaction</h2>
            <button class="modal-close" onclick="closeModal('authority')">Close</button>
        </div>

        <form method="POST"
              action="{{ url_for('main.add_authority') }}"
              class="modal-form">

            <div class="form-grid">
                <div>
                    <label>Authority Name</label>
                    <input name="authority_name" required>
                </div>

                <div>
                    <label>Status</label>
                    <select name="status">
                        <option>Notified</option>
                        <option>Engaged</option>
                        <option>Action Taken</option>
                    </select>
                </div>
            </div>

            <label>Action / Notes</label>
            <textarea name="action"></textarea>

            <button type="submit" class="btn-submit">Add</button>

        </form>

    </div>

</div>

<!-- WEATHER MODAL -->
<div id="modal-weather" class="modal">
    <div class="modal-overlay" onclick="closeModal('weather')"></div>

    <div class="modal-panel">

        <div class="modal-header">
            <h2>Add Weather</h2>
            <button class="modal-close" onclick="closeModal('weather')">
                Close
            </button>
        </div>

        <form method="POST" action="{{ url_for('main.add_weather') }}" class="modal-form">

            <div class="form-grid">
                <div>
                    <label>Temperature (°C)</label>
                    <input type="number" step="0.1" name="temperature_c" required>
                </div>

                <div>
                    <label>Feels Like (°C)</label>
                    <input type="number" step="0.1" name="feels_like_c">
                </div>
            </div>

            <div class="form-grid">
                <div>
                    <label>Humidity (%)</label>
                    <input type="number" min="0" max="100" name="humidity">
                </div>

                <div>
                    <label>Air Quality</label>
                    <input name="air_quality" placeholder="Good, Moderate, Unhealthy">
                </div>
            </div>

            <button type="submit" class="btn-submit">
                Save Weather
            </button>

        </form>

    </div>
</div>

<!-- MAP MODAL -->
<div id="modal-map" class="modal">
    <div class="modal-overlay" onclick="closeModal('map')"></div>

    <div class="modal-panel">
        <div class="modal-header">
            <h2>Add Map Image</h2>
            <button class="modal-close" onclick="closeModal('map')">Close</button>
        </div>

        <form method="POST" action="{{ url_for('main.add_map') }}" class="modal-form">

            <label>Image URL</label>
            <input name="image_url" required placeholder="https://example.com/map.jpg">

            <label>Description</label>
            <textarea name="description" placeholder="Optional description"></textarea>

            <button type="submit" class="btn-submit">
                Add Map
            </button>

        </form>
    </div>
</div>


<div id="modal-timer" class="modal">
    <div class="modal-overlay" onclick="closeModal('timer')"></div>

    <div class="modal-panel">
        <div class="modal-header">
            <h2>Set Task Timer</h2>
            <button class="modal-close" onclick="closeModal('timer')">Close</button>
        </div>

        <form method="POST"
      action="{{ url_for('main.create_task_timer') }}"
      class="modal-form">

    <label>Title</label>
    <input name="title" required>

    <label>Duration (minutes)</label>
    <input name="minutes" type="number" required>

    <label>Attendees</label>
    <textarea name="attendees"></textarea>

    <label>Next meeting</label>
    <textarea name="next_meeting"></textarea>

    <label>Location</label>
    <textarea name="location"></textarea>

    <button type="submit" class="btn-submit">
        Start Timer
    </button>
</form>

    </div>
</div>


<!-- LIVE MONITOR MODAL -->
<div id="modal-live-monitor" class="modal">
    <div class="modal-overlay" onclick="closeModal('live-monitor')"></div>

    <div class="modal-panel">
        <div class="modal-header">
            <h2>Live Monitor Update</h2>
            <button class="modal-close" onclick="closeModal('live-monitor')">Close</button>
        </div>

        <form method="POST" action="{{ url_for('main.save_live_monitor') }}" class="modal-form">
            <label>Live text</label>
            <textarea name="text" required></textarea>

            <button type="submit" class="btn-submit">
                Update
            </button>
        </form>
    </div>
</div>


<!-- SITUATIONAL STATUS MODAL -->
<div id="modal-situational" class="modal">
    <div class="modal-overlay" onclick="closeModal('situational')"></div>

    <div class="modal-panel">
        <div class="modal-header">
            <h2>Add Situational Status</h2>
            <button class="modal-close" onclick="closeModal('situational')">Close</button>
        </div>

        <form method="POST" action="{{ url_for('main.add_situational_status') }}" class="modal-form">

            <label>Title</label>
            <input name="title" required>

            <label>Details</label>
            <textarea name="text" required></textarea>

            <button type="submit" class="btn-submit">
                Save
            </button>
        </form>
    </div>
</div>

<!-- ACTION TRACKER MODAL -->
<div id="modal-action" class="modal">
    <div class="modal-overlay" onclick="closeModal('action')"></div>

    <div class="modal-panel large">
        <div class="modal-header">
            <h2>Add Action</h2>
            <button class="modal-close" onclick="closeModal('action')">Close</button>
        </div>

        <form method="POST" action="{{ url_for('main.add_action_item') }}" class="modal-form">

            <label>Action</label>
            <input name="action" required>

            <label>Description</label>
            <textarea name="description" required></textarea>

            <label>Owner</label>
            <input name="owner" required>

            <label>Stakeholder</label>
            <input name="stakeholder" required>

            <label>Status</label>
            <select name="status">
                <option value="none">none</option>
                <option value="submitted">submitted</option>
                <option value="pending">pending</option>
                <option value="completed">completed</option>
            </select>

            <button type="submit" class="btn-submit">
                Save Action
            </button>
        </form>
    </div>
</div>

<!-- ACTION TRACKER EDIT MODAL -->
<div id="modal-action-edit" class="modal">
    <div class="modal-overlay" onclick="closeModal('action-edit')"></div>

    <div class="modal-panel large">
        <div class="modal-header">
            <h2>Edit Action</h2>
            <button class="modal-close" onclick="closeModal('action-edit')">Close</button>
        </div>

        <form method="POST" id="actionEditForm" class="modal-form">
            <label>Action</label>
            <input name="action" id="edit_action" required>

            <label>Description</label>
            <textarea name="description" id="edit_description" required></textarea>

            <label>Owner</label>
            <input name="owner" id="edit_owner" required>

            <label>Stakeholder</label>
            <input name="stakeholder" id="edit_stakeholder" required>

            <label>Status</label>
            <select name="status" id="edit_status">
                <option value="none">none</option>
                <option value="submitted">submitted</option>
                <option value="pending">pending</option>
                <option value="completed">completed</option>
            </select>

            <button type="submit" class="btn-submit">
                Save Changes
            </button>
        </form>
    </div>
</div>

<div id="modal-socialResponse" class="modal">
    <div class="modal-box">

        <div class="modal-panel">
    <div class="modal-header">
        <h2>Add Social Comment / Response</h2>
        <button class="modal-close" onclick="closeModal('socialResponse')">Close</button>
    </div>

    <form method="POST"
          action="{{ url_for('main.add_social_response') }}"
          class="modal-form">

        <label>Title</label>
        <input name="title" required>

        <label>Text</label>
        <textarea name="text" rows="4" required></textarea>

        <button type="submit" class="btn-submit">
            Submit
        </button>
    </form>
</div>

</div>


<div id="modal-newsResponse" class="modal">
    <div class="modal-content small">
        <div class="modal-panel">

            <div class="modal-header">
                <h2>Add News Comment / Response</h2>
                <button class="modal-close" onclick="closeModal('newsResponse')">Close</button>
            </div>

            <form method="POST"
                  action="{{ url_for('main.add_news_response') }}"
                  class="modal-form">

                <label>Title</label>
                <input name="title" required>

                <label>Text</label>
                <textarea name="text" rows="4" required></textarea>

                <button type="submit" class="btn-submit">
                    Submit
                </button>

            </form>

        </div>
    </div>
</div>


</div>
